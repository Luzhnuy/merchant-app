<ion-content padding class="transparent">

  <ion-card class="full-page-card">
    <h1 class="text-align-center"><ion-icon name="calendar"></ion-icon> History (6 months)</h1>
    <ion-list>
      <ng-container *ngFor="let order of orders">
        <ion-item>
          <ion-grid class="display-flex">
            <ion-col sizeXs="6" sizeSm="3" sizeXl="3" sizeMd="6" sizeLg="3">
              <ion-label>
                <strong>
                  {{order.metadata.dropOffTitle}}
                </strong>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="text-align-center hide-xs hide-md">
              <ion-label>
                <span class="flex-1 text-align-center">
                  {{order.createdAt | date:'medium'}}
                </span>
              </ion-label>
            </ion-col>
            <ion-col class="text-align-center badge-col" sizeXs="3" sizeSm="2" sizeXl="2" sizeMd="3" sizeLg="2">
              <app-status-badge [status]="order.status"></app-status-badge>
            </ion-col>
            <ion-col class="text-align-center badge-col" sizeXs="3" sizeSm="2" sizeXl="2" sizeMd="3" sizeLg="2">
              <ion-button class="receipt-button" (click)="sendReceipt(order)">
                Send Receipt
              </ion-button>
            </ion-col>
          </ion-grid>
          <ion-button slot="end" (click)="toggleOrderDetails(order.id)" margin-start="0">
            <ion-icon name="add" *ngIf="expandedOrderId !== order.id"></ion-icon>
            <ion-icon name="remove" *ngIf="expandedOrderId === order.id"></ion-icon>
          </ion-button>
        </ion-item>
        <div class='expand-wrapper' *ngIf="expandedOrderId === order.id">
          <app-order-details [order]="order"></app-order-details>
        </div>
      </ng-container>
    </ion-list>
  </ion-card>

</ion-content>
